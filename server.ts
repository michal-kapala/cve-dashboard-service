import { createServer } from 'nice-grpc';
import { AuthDefinition } from './proto/compiled_proto/auth.js';
import { authServiceImpl } from './src/services/auth.js';

const PORT: number = 50052;

async function main() {
  const server = createServer();
  
  // auth service
  server.add(AuthDefinition, authServiceImpl);

  const host = `0.0.0.0:${PORT}`;
  console.log(`\x1b[32mServer listening at ${host}\x1b[0m`)
  await server.listen(host);

}

main();
