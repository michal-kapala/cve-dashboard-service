import { createServer } from 'nice-grpc';
import { CveDefinition } from './proto/compiled_proto/cve.js';
import { cveServiceImpl } from './src/services/cve.js';
import * as dotenv from 'dotenv'

dotenv.config()
const PORT: number = 50052;

async function main() {
  const server = createServer();
  
  // auth service
  server.add(CveDefinition, cveServiceImpl);

  const host = `0.0.0.0:${PORT}`;
  console.log(`\x1b[32mServer listening at ${host}\x1b[0m`)
  await server.listen(host);

}

main();
